function Popup(){var t,e={speed:150,styles:!1,replaceStyles:!1,mediaStyles:!1,templates:!0,closeOnBackgroundClick:!0,closeOnEsc:!0,confirmOnEnter:!0},c=this,i=arguments.length?arguments[0]:{},o="958c1d72380718e5f4b576299fb5ea0c",n=!1,a=function(t){var e="";for(var i in t)t.hasOwnProperty(i)&&(e+=i.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})+":"+(""!==t[i]?t[i]:'""')+";");return e},l=function(t,e){for(var i in e)if(e.hasOwnProperty(i))if(!1!==e[i=i.trim().replace(/\s+/g," ")])if(t.hasOwnProperty(i))for(var o in t[i]=$.extend(t[i],e[i]),t[i])t[i].hasOwnProperty(o)&&!1===t[i][o]&&delete t[i][o];else t[i]=e[i];else delete t[i];return t};for(var r in e)e.hasOwnProperty(r)&&(this[r]=i.hasOwnProperty(r)?i[r]:e[r]);this.actionState=!1,t=$('style[title="'+o+'"]'),i.hasOwnProperty("styleSheetTitle")&&i.styleSheetTitle===o&&(n=!0),!n&&t.length&&t.empty();var s={message:'<div class="popup" data-name="message"><div class="closer"><div></div><div></div></div><div class="heading"></div><div class="body"><div class="text"></div><div class="button_wrapper"><button class="closing_button" id="close_btn">ОК</button></div></div></div>',confirm:'<div class="popup" data-name="confirm"><div class="closer"><div></div><div></div></div><div class="heading"></div><div class="body"><div class="text"></div><div class="button_wrapper"><button class="confirm_button">Принять</button><button class="closing_button">Отклонить</button></div></div></div>'};if("object"==typeof i.templates)for(var p in i.templates)i.templates.hasOwnProperty(p)&&(s[p]=i.templates[p]);if($(document).ready(function(){$("body>.tint").length||$("body").append('<div class="tint"></div>');var t="";for(var e in s)if(s.hasOwnProperty(e))if(!1!==s[e])$('body>.tint .popup[data-name="'+e+'"]').length||(t+=s[e]);else{delete s[e];var i=$('body>.tint .popup[data-name="'+e+'"]');i.length&&i.remove()}$("body>.tint").append(t),$(".popup").hide()}),this.styles&&(!n||!t.length)){"object"!=typeof this.styles&&(this.styles={});var d={"body>.tint":{position:"fixed",display:"none",width:"100%",height:"100vh !important",overflowY:"auto",background:"RGBA(0,0,0,0.7)",zIndex:1e4,left:0,right:0,top:0,bottom:0,textAlign:"center",verticalAlign:"middle"},"body>.tint::after":{display:"inline-block",height:"100%",content:"",verticalAlign:"middle"},".popup":{position:"relative",display:"inline-block",background:"#fff",width:"calc(100% - 20px)",maxWidth:"550px",minHeight:"130px",margin:"50px 10px",borderRadius:"10px",verticalAlign:"middle",overflow:"hidden",boxShadow:"0 0 15px #fff"},".popup .heading":{height:"43px",background:"#34991b",font:"bold 30px/45px Arial",color:"#fff",textAlign:"center",textTransform:"uppercase",padding:"0 17px",margin:"auto"},".popup .body":{padding:"12px 17px 27px"},".popup .closer":{position:"absolute",width:"25px",height:"25px",right:"5px",top:"8px",cursor:"pointer",transition:"all 280ms"},".popup .closer > div":{position:"absolute",left:"11px",width:"3px",height:"25px",background:"#fff",borderRadius:"3px",transition:"all 280ms"},".popup .closer > div:nth-child(1)":{WebkitTransform:"rotate(45deg)",transform:"rotate(45deg)"},".popup .closer > div:nth-child(2)":{WebkitTransform:"rotate(-45deg)",transform:"rotate(-45deg)"},".popup .closer:hover":{transform:"scale3d(1.3, 1.3, 0.2)"},".popup .closer:hover > div":{background:"#9cd1d4"},'.popup button, .popup input[type="submit"]':{display:"inline-block",margin:"auto",background:"#34991b",borderRadius:"6px",font:"bold 18px Tahoma",color:"#fff",height:"35px",padding:"0 35px",cursor:"pointer",transition:"all 250ms",border:"none"},'.popup button:hover, .popup input[type="submit"]:hover':{opacity:.7},".popup .body .closing_button":{marginTop:"10px"},".popup .body .text":{marginBottom:"16px",textAlign:"center"},".popup .input_wrapper":{marginBottom:"10px"},".popup .button_wrapper button":{display:"inline-block",marginLeft:"10px",marginRight:"10px"},"body.h_overflow, html.h_overflow":{overflow:"hidden !important",height:"100vh",width:"100%",position:"fixed"}},f={};if(d=this.replaceStyles?$.extend(d,this.styles):l(d,this.styles),!1!==this.mediaStyles)for(var h in"object"!=typeof this.mediaStyles&&(this.mediaStyles={}),this.mediaStyles)this.mediaStyles.hasOwnProperty(h)&&(h=h.trim().replace(/\s+/g," "),!1!==this.mediaStyles[h]?f.hasOwnProperty(h)?this.replaceStyles?f[h]=$.extend(f[h],this.mediaStyles[h]):f[h]=l(f[h],this.mediaStyles[h]):f[h]=this.mediaStyles[h]:delete f[h]);for(var u in t.length||($("head").append('<style title="'+o+'"></style>'),t=$('style[title="'+o+'"]')),d)if(d.hasOwnProperty(u)){var b=a(d[u=u.trim().replace(/\s+/g," ")]);t.append(u+"{"+b+"}")}if(!1!==this.mediaStyles)for(var m in f)if(f.hasOwnProperty(m)){var v="";for(var g in f[m]){if(f[m].hasOwnProperty(g))v+=(g=g.trim().replace(/\s+/g," "))+"{"+a(f[m][g])+"}"}t.append(m+"{"+v+"}")}}this.show=function(){if(this.actionState)return!1;var t=$(":focus");t.length&&(window.a3e95e180cc04c9d85ffdd8ebecef047=t.eq(0),t.blur());var e,o={title:"Ошибка",text:"Произошла ошибка всплывающего окна. Пожалуйста, обратитесь в обратную связь.",btnEvents:!0,name:"message",html:!1,closerCallback:function(){},closingBtnCallback:!1,confirmBtnCallback:function(){},backgroundClickCallback:!1,callbackOnEsc:!1,callbackOnEnter:!1,closingBtnText:!1,confirmBtnText:!1},arguments=arguments.length?arguments[0]:{};for(var i in o)o.hasOwnProperty(i)&&arguments.hasOwnProperty(i)&&(o[i]=arguments[i]);if($(".popup.active").length)return $(".popup").hide(this.speed).removeClass("active"),setTimeout(function(){c.show(o)},this.speed),!1;(e=$('body>.tint .popup[data-name="'+o.name+'"]')).length||(e=$('body>.tint .popup[data-name="'+(o.name="message")+'"]')),e.length||(e=$("body>.tint .popup:first-child")),!1!==o.title&&e.children(".heading").html(o.title),o.html?e.children(".body").html(o.html):!1!==o.text&&e.children(".body").find(".text").html(o.text),o.closingBtnText&&e.children(".body").find(".closing_button").html(o.closingBtnText),o.confirmBtnText&&e.children(".body").find(".confirm_button").html(o.confirmBtnText);var n=$("body>.tint");n.show().addClass("active"),$("body,html").addClass("h_overflow"),e.hasClass("active")||(e.addClass("active"),e.show(this.speed));var a=function(){if("object"!=typeof o.closerCallback||!o.closerCallback.hasOwnProperty("closerOff")||!0!==o.closerCallback.closerOff){if(c.actionState)return!1;c.close()}"function"==typeof o.closerCallback?o.closerCallback():"object"==typeof o.closerCallback&&o.closerCallback.hasOwnProperty("callback")&&"function"==typeof o.closerCallback.callback&&o.closerCallback.callback()};if(e.children(".closer").off("click").on("click",a),o.btnEvents){var l=e.find(".closing_button");l.length&&l.off("click").on("click",o.closingBtnCallback?o.closingBtnCallback:a);var r=e.find(".confirm_button");r.length&&r.off("click").on("click",o.confirmBtnCallback?o.confirmBtnCallback:a)}c.closeOnBackgroundClick&&n.off("click").on("click",function(){$("body>.tint .popup:hover").length||(o.backgroundClickCallback?o.backgroundClickCallback:a)()}),this.actionState=!0,setTimeout(function(){c.actionState=!1,(c.closeOnEsc||c.confirmOnEnter)&&$(document).on("keydown",function t(e){if(!$("body>.tint.active").length)return $(document).off("keydown",t),!1;var i=e.hasOwnProperty("keyCode")?e.keyCode:e.which;c.closeOnEsc&&27===i&&((o.callbackOnEsc?o.callbackOnEsc:a)(),$(document).off("keydown",t)),c.confirmOnEnter&&13===i&&((o.callbackOnEnter?o.callbackOnEnter:o.confirmBtnCallback?o.confirmBtnCallback:a)(),$(document).off("keydown",t))})},this.speed)},this.close=function(){if(this.actionState)return!1;if("function"==typeof arguments[0]&&arguments[0](),!0===arguments[1])return!1;var t=$(".popup");return t.removeClass("active"),$("body,html").removeClass("h_overflow"),t.hide(this.speed),this.actionState=!0,setTimeout(function(){$("body>.tint").hide().removeClass("active"),"object"==typeof window.a3e95e180cc04c9d85ffdd8ebecef047&&(window.a3e95e180cc04c9d85ffdd8ebecef047.focus(),delete window.a3e95e180cc04c9d85ffdd8ebecef047),c.actionState=!1},this.speed),!1}}
