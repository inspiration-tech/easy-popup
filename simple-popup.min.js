window.Popup=function(){var t,e={speed:150,styles:!1,replaceStyles:!1,mediaStyles:!1,templates:!0,closeOnBackgroundClick:!0,closeOnEsc:!0,confirmOnEnter:!0},d=this,o=arguments.length?arguments[0]:{},i="958c1d72380718e5f4b576299fb5ea0c",n=!1,a=function(t){var e="";for(var o in t)t.hasOwnProperty(o)&&(e+=o.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})+":"+(""!==t[o]?t[o]:'""')+";");return e},l=function(t,e){for(var o in e)if(e.hasOwnProperty(o))if(!1!==e[o=o.trim().replace(/\s+/g," ")])if(t.hasOwnProperty(o))for(var i in t[o]=$.extend(t[o],e[o]),t[o])t[o].hasOwnProperty(i)&&!1===t[o][i]&&delete t[o][i];else t[o]=e[o];else delete t[o];return t};for(var r in e)e.hasOwnProperty(r)&&(this[r]=o.hasOwnProperty(r)?o[r]:e[r]);this.actionState=!1,t=$('style[title="'+i+'"]'),o.hasOwnProperty("styleSheetTitle")&&o.styleSheetTitle===i&&(n=!0),!n&&t.length&&t.empty();var c={message:'<div class="popup" data-name="message"><div class="closer"><div></div><div></div></div><div class="heading"></div><div class="body"><div class="text"></div><div class="button_wrapper"><button class="closing_button" id="close_btn">ОК</button></div></div></div>',confirm:'<div class="popup" data-name="confirm"><div class="closer"><div></div><div></div></div><div class="heading"></div><div class="body"><div class="text"></div><div class="button_wrapper"><button class="confirm_button">Принять</button><button class="closing_button">Отклонить</button></div></div></div>'};if("object"==typeof o.templates)for(var s in o.templates)o.templates.hasOwnProperty(s)&&(c[s]=o.templates[s]);if($(document).ready(function(){$("body>.tint").length||$("body").append('<div class="tint"></div>');var t="";for(var e in c)if(c.hasOwnProperty(e))if(!1!==c[e])$('body>.tint .popup[data-name="'+e+'"]').length||(t+=c[e]);else{delete c[e];var o=$('body>.tint .popup[data-name="'+e+'"]');o.length&&o.remove()}$("body>.tint").append(t),$(".popup").hide()}),this.styles&&(!n||!t.length)){"object"!=typeof this.styles&&(this.styles={});var p={"body>.tint":{position:"fixed",display:"none",width:"100%",height:"100vh !important",overflowY:"auto",background:"RGBA(0,0,0,0.7)",zIndex:1e4,left:0,right:0,top:0,bottom:0,textAlign:"center",verticalAlign:"middle"},"body>.tint::after":{display:"inline-block",height:"100%",content:"",verticalAlign:"middle"},".popup":{position:"relative",display:"inline-block",background:"#fff",width:"calc(100% - 20px)",maxWidth:"550px",minHeight:"130px",margin:"50px 10px",borderRadius:"10px",verticalAlign:"middle",overflow:"hidden",boxShadow:"0 0 15px #fff"},".popup .heading":{height:"43px",background:"#34991b",font:"bold 30px/45px Arial",color:"#fff",textAlign:"center",textTransform:"uppercase",padding:"0 17px",margin:"auto"},".popup .body":{padding:"12px 17px 27px"},".popup .closer":{position:"absolute",width:"25px",height:"25px",right:"5px",top:"8px",cursor:"pointer",transition:"all 280ms"},".popup .closer > div":{position:"absolute",left:"11px",width:"3px",height:"25px",background:"#fff",borderRadius:"3px",transition:"all 280ms"},".popup .closer > div:nth-child(1)":{WebkitTransform:"rotate(45deg)",transform:"rotate(45deg)"},".popup .closer > div:nth-child(2)":{WebkitTransform:"rotate(-45deg)",transform:"rotate(-45deg)"},".popup .closer:hover":{transform:"scale3d(1.3, 1.3, 0.2)"},".popup .closer:hover > div":{background:"#9cd1d4"},'.popup button, .popup input[type="submit"]':{display:"inline-block",margin:"auto",background:"#34991b",borderRadius:"6px",font:"bold 18px Tahoma",color:"#fff",height:"35px",padding:"0 35px",cursor:"pointer",transition:"all 250ms",border:"none"},'.popup button:hover, .popup input[type="submit"]:hover':{opacity:.7},".popup .body .closing_button":{marginTop:"10px"},".popup .body .text":{marginBottom:"16px",textAlign:"center"},".popup .input_wrapper":{marginBottom:"10px"},".popup .button_wrapper button":{display:"inline-block",marginLeft:"10px",marginRight:"10px"},"body.h_overflow, html.h_overflow":{overflow:"hidden !important",height:"100vh",width:"100%",position:"fixed"}},f={};if(p=this.replaceStyles?$.extend(p,this.styles):l(p,this.styles),!1!==this.mediaStyles)for(var h in"object"!=typeof this.mediaStyles&&(this.mediaStyles={}),this.mediaStyles)this.mediaStyles.hasOwnProperty(h)&&(h=h.trim().replace(/\s+/g," "),!1!==this.mediaStyles[h]?f.hasOwnProperty(h)?this.replaceStyles?f[h]=$.extend(f[h],this.mediaStyles[h]):f[h]=l(f[h],this.mediaStyles[h]):f[h]=this.mediaStyles[h]:delete f[h]);for(var b in t.length||($("head").append('<style title="'+i+'"></style>'),t=$('style[title="'+i+'"]')),p)if(p.hasOwnProperty(b)){var u=a(p[b=b.trim().replace(/\s+/g," ")]);t.append(b+"{"+u+"}")}if(!1!==this.mediaStyles)for(var m in f)if(f.hasOwnProperty(m)){var v="";for(var y in f[m]){if(f[m].hasOwnProperty(y))v+=(y=y.trim().replace(/\s+/g," "))+"{"+a(f[m][y])+"}"}t.append(m+"{"+v+"}")}}this.show=function(){if(this.actionState)return!1;var t=$(":focus");t.length&&(window.a3e95e180cc04c9d85ffdd8ebecef047=t.eq(0),t.blur());var e,i={title:"Ошибка",text:"Произошла ошибка всплывающего окна. Пожалуйста, обратитесь в обратную связь.",btnEvents:!0,name:"message",html:!1,closerCallback:function(){},closingBtnCallback:!1,confirmBtnCallback:function(){},backgroundClickCallback:!1,callbackOnEsc:!1,callbackOnEnter:!1,closingBtnText:!1,confirmBtnText:!1},arguments=arguments.length?arguments[0]:{};for(var o in i)i.hasOwnProperty(o)&&arguments.hasOwnProperty(o)&&(i[o]=arguments[o]);if($(".popup.active").length)return $(".popup").hide(this.speed).removeClass("active"),setTimeout(function(){d.show(i)},this.speed),!1;(e=$('body>.tint .popup[data-name="'+i.name+'"]')).length||(e=$('body>.tint .popup[data-name="'+(i.name="message")+'"]')),e.length||(e=$("body>.tint .popup:first-child")),!1!==i.title&&e.children(".heading").html(i.title),i.html?e.children(".body").html(i.html):!1!==i.text&&e.children(".body").find(".text").html(i.text);var n=null;!1!==i.closingBtnText?n=i.closingBtnText:"confirm"===i.name?n="Отклонить":"message"===i.name&&(n="ОК"),e.children(".body").find(".closing_button").html(n);var a=null;!1!==i.confirmBtnText?a=i.confirmBtnText:"confirm"===i.name&&(a="Подтвердить"),e.children(".body").find(".confirm_button").html(a);var l=$("body>.tint");l.show().addClass("active"),$("body,html").addClass("h_overflow"),e.hasClass("active")||(e.addClass("active"),e.show(this.speed));var r=function(){if("object"!=typeof i.closerCallback||!i.closerCallback.hasOwnProperty("closerOff")||!0!==i.closerCallback.closerOff){if(d.actionState)return!1;d.close()}"function"==typeof i.closerCallback?i.closerCallback():"object"==typeof i.closerCallback&&i.closerCallback.hasOwnProperty("callback")&&"function"==typeof i.closerCallback.callback&&i.closerCallback.callback()};if(e.children(".closer").off("click").on("click",r),i.btnEvents){var c=e.find(".closing_button");c.length&&c.off("click").on("click",i.closingBtnCallback?i.closingBtnCallback:r);var s=e.find(".confirm_button");s.length&&s.off("click").on("click",i.confirmBtnCallback?i.confirmBtnCallback:r)}d.closeOnBackgroundClick&&l.off("click").on("click",function(){$("body>.tint .popup:hover").length||(i.backgroundClickCallback?i.backgroundClickCallback:r)()}),this.actionState=!0,setTimeout(function(){d.actionState=!1,(d.closeOnEsc||d.confirmOnEnter)&&$(document).on("keydown",function t(e){if(!$("body>.tint.active").length)return $(document).off("keydown",t),!1;var o=e.hasOwnProperty("keyCode")?e.keyCode:e.which;d.closeOnEsc&&27===o&&((i.callbackOnEsc?i.callbackOnEsc:r)(),$(document).off("keydown",t)),d.confirmOnEnter&&13===o&&((i.callbackOnEnter?i.callbackOnEnter:i.confirmBtnCallback?i.confirmBtnCallback:r)(),$(document).off("keydown",t))})},this.speed)},this.close=function(){if(this.actionState)return!1;if("function"==typeof arguments[0]&&arguments[0](),!0===arguments[1])return!1;var t=$(".popup");return t.removeClass("active"),$("body,html").removeClass("h_overflow"),t.hide(this.speed),this.actionState=!0,setTimeout(function(){$("body>.tint").hide().removeClass("active"),"object"==typeof window.a3e95e180cc04c9d85ffdd8ebecef047&&(window.a3e95e180cc04c9d85ffdd8ebecef047.focus(),delete window.a3e95e180cc04c9d85ffdd8ebecef047),d.actionState=!1},this.speed),!1}};
